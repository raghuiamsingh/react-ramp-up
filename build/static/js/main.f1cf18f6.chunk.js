(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/login_icon.3157e3d1.svg"},26:function(e,t,a){e.exports=a(40)},31:function(e,t,a){},33:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setPlanetData",function(){return z});var r=a(0),o=a.n(r),s=a(21),i=a.n(s),l=(a(31),a(2)),c=a(3),u=a(5),p=a(4),h=a(6),m=(a(33),a(9)),d=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("input",{type:this.props.type,defaultValue:this.props.value,name:this.props.name,className:this.props.classes,placeholder:this.props.placeholder,onChange:this.props.changeEvent})}}]),t}(o.a.Component),b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("p",{className:"error-item"},"Wrong Credentials, please try again.")}}]),t}(o.a.Component);function f(e){return e.isLoggedIn?o.a.createElement(b,null):null}var v="https://swapi.co/api/",g="people",O="planets",j="?format=json",E="GET",y="no-cache";function k(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)a=e;else{switch(e){case"people":t=g;break;case"planets":t=O;break;default:t=O}a=v+t+"/",a+=r?r+"/":"",a+=j}return fetch(a,{method:E,cache:y}).then(function(e){return e.json()}).catch(function(e){return console.error("Error in API:",e)})}var w=a(17),C=a.n(w),N=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e;return e=this.props.loaderColor?this.props.loaderColor:"#fff",this.props.withoutWrapper?o.a.createElement(C.a,{type:"bubbles",color:e,height:"20%",width:"20%",className:"app-loader"}):o.a.createElement("div",{className:"wrapper fadeInDown"},o.a.createElement(C.a,{type:"bubbles",color:e,height:"20%",width:"20%",className:"app-loader"}))}}]),t}(o.a.Component),T=a(11),L=Object(T.a)({});function S(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}function x(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}var I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={errors:[],loading:!1},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=new FormData(e.target),n=this.state.errors.slice();a.get("name")||(n.nameError=!0),a.get("birth_year")||(n.birthError=!0),this.setState({loading:!0}),x("swapi_user"),k("people").then(function(e){var t=!1;for(var r in e.results)if(e.results[r].name===a.get("name")&&e.results[r].birth_year===a.get("birth_year")){t=!0;break}t?(n.wrongCredentials=!1,function(e,t,a){var n="";if(a){var r=new Date;r.setTime(r.getTime()+24*a*60*60*1e3),n="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+n+"; path=/"}("swapi_user",JSON.stringify(e.results[r]),7)):n.wrongCredentials=!0}).then(function(e){t.setState({errors:n,loading:!1}),n.wrongCredentials||L.push("/planets")}),this.setState({errors:n})}},{key:"render",value:function(){var e;return e=this.state.loading?o.a.createElement(N,{loaderColor:"#2a5082",withoutWrapper:!0}):o.a.createElement(d,{type:"submit",classes:"fadeIn fourth",name:"submit",value:"Log In"}),o.a.createElement("form",{className:"login-form",onSubmit:this.handleSubmit},o.a.createElement(d,{type:"text",classes:"fadeIn second"+(this.state.errors.nameError?" errorField":""),name:"name",placeholder:"Name",value:""}),o.a.createElement(d,{type:"text",classes:"fadeIn third"+(this.state.errors.birthError?" errorField":""),name:"birth_year",placeholder:"Birth Year",value:""}),o.a.createElement(f,{isLoggedIn:this.state.errors.wrongCredentials}),e)}}]),t}(o.a.Component),_=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("h2",{className:this.props.classes},this.props.headerText)}}]),t}(o.a.Component),D=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"createFooterLinks",value:function(e){var t=[];for(var a in e)t.push(o.a.createElement("a",{className:e[a].classes,href:e[a].link,key:a},e[a].title));return t}},{key:"render",value:function(){return o.a.createElement("div",{className:"formFooter"},this.createFooterLinks(this.props.contents))}}]),t}(o.a.Component),P=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:this.props.classes},o.a.createElement("img",{src:this.props.imgSrc,className:"icon",alt:this.props.altText}))}}]),t}(o.a.Component),A=a(42),B=a(22),F=a.n(B),M=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(null!==S("swapi_user"))return o.a.createElement(A.a,{to:"/planets"});return o.a.createElement("div",{className:"wrapper fadeInDown"},o.a.createElement("div",{className:"formContent"},o.a.createElement(_,{classes:"active",headerText:"Sign In"}),o.a.createElement(P,{imgSrc:F.a,classes:"fadeIn first",altText:"User Icon"}),o.a.createElement(I,null),o.a.createElement(D,{contents:{0:{classes:"underlineHover",link:"#",title:"Forgot Password?"}}})))}}]),t}(o.a.Component),W=a(41),J=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"renderBackLink",value:function(){if(this.props.showBackLink)return o.a.createElement(W.a,{to:"/planets"},"< Go back")}},{key:"render",value:function(){return o.a.createElement("div",{className:"logout-button-holder"},this.renderBackLink(),o.a.createElement("input",{type:this.props.buttonType,name:this.props.buttonName,className:this.props.buttonClasses,value:this.props.buttonValue,onClick:this.props.buttonEvent}))}}]),t}(o.a.Component),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={planets:[],searchTerm:"",loading:!0},a.handleSearchTextChange=a.handleSearchTextChange.bind(Object(m.a)(Object(m.a)(a))),a.handleLogout=a.handleLogout.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleSearchTextChange",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"handleLogout",value:function(){x("swapi_user"),L.push("/")}},{key:"componentDidMount",value:function(){var e=this,t=[];k("planets").then(function(e){for(var a in e.results){var n=e.results[a].url;n=n.split("/"),t.push({name:e.results[a].name,id:n[n.length-2],population:e.results[a].population})}}).then(function(a){return e.setState({planets:t,loading:!1})})}},{key:"getPopulationColor",value:function(e){var t,a,n=Math.log10(e);isNaN(n)?(t="195",a="50%"):(t="360",(a=Math.floor(5*n))>100?a=100:a<0&&(a=0),a+="%");return{backgroundColor:"hsl("+t+", 100%, "+a+")"}}},{key:"render",value:function(){var e=this;if(null===S("swapi_user"))return o.a.createElement(A.a,{to:"/"});var t=this.state.searchTerm.toLowerCase();return this.state.loading?o.a.createElement(N,null):o.a.createElement("div",{className:"wrapper fadeInDown"},o.a.createElement(J,{buttonType:"button",buttonName:"logout",buttonClasses:"logout-button right-float",buttonValue:"Logout",buttonEvent:this.handleLogout}),o.a.createElement("div",{className:"formContent"},o.a.createElement(_,{classes:"active",headerText:"Planets List"}),o.a.createElement(d,{type:"text",classes:"fadeIn second",name:"search",placeholder:"Search a planet",value:this.state.searchTerm,changeEvent:this.handleSearchTextChange}),o.a.createElement("ul",{className:"planet-list"},this.state.planets.map(function(a){return-1===a.name.toLowerCase().indexOf(t)?"":o.a.createElement("li",{className:"planet-item",style:e.getPopulationColor(a.population),key:a.id},o.a.createElement(W.a,{to:"/planet/"+a.id},a.name))}))))}}]),t}(o.a.Component),V=a(12),G=a(16);function z(e){return{type:"SET_PLANET_DATA",planetObj:e}}var K=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e));var r=e.dispatch;return a.boundActionCreators=Object(V.a)(n,r),a.handleLogout=a.handleLogout.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleLogout",value:function(){x("swapi_user"),L.push("/")}},{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=this.props.match.params.id,a=[];k("planets",!1,t).then(function(e){a=e}).then(function(t){var n=z(a);e(n)})}},{key:"normalizePlanetKey",value:function(e){return e=(e=(e=e.charAt(0).toUpperCase()+e.slice(1)).replace(/_/g," ")).toLowerCase().replace(/\b./g,function(e){return e.toUpperCase()})}},{key:"renderPlanetDetails",value:function(e){var t=[];for(var a in e)("string"===typeof e[a]||e[a]instanceof String)&&e[a].indexOf("http")<0&&t.push(o.a.createElement("div",{key:a,className:"planet-details"},o.a.createElement("span",{className:"details-key"},this.normalizePlanetKey(a),": "),o.a.createElement("span",null,e[a])));return t}},{key:"render",value:function(){if(null===S("swapi_user"))return o.a.createElement(A.a,{to:"/"});var e=this.props.match.params.id;return this.props.loading?o.a.createElement(N,null):o.a.createElement("div",{className:"wrapper fadeInDown"},o.a.createElement(J,{buttonType:"button",buttonName:"logout",buttonClasses:"logout-button right-float",buttonValue:"Logout",buttonEvent:this.handleLogout,showBackLink:!0}),o.a.createElement("div",{className:"formContent"},o.a.createElement(_,{classes:"active",headerText:"Planet Details (ID: "+e+")"}),this.renderPlanetDetails(this.props.planet)))}}]),t}(o.a.Component);var H=Object(G.b)(function(e){return e})(K),Y=a(45),$=a(44),q=a(43),Q={planet:{},loading:!0};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PLANET_DATA":return{planet:t.planetObj,loading:!1};default:return e}}var X=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=Object(V.b)(R);return o.a.createElement(G.a,{store:e},o.a.createElement(Y.a,{history:L},o.a.createElement($.a,null,o.a.createElement(q.a,{exact:!0,path:"/",component:M}),o.a.createElement(q.a,{path:"/planets",component:U}),o.a.createElement(q.a,{path:"/planet/:id",component:H}))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.f1cf18f6.chunk.js.map